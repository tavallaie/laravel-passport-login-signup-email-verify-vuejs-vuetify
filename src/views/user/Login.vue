<template>    <v-container>        <v-layout row>            <v-flex xs12 sm6 offset-sm3>                <v-card>                    <v-card-text>                        <v-container>                            <form @submit.prevent="onLogin">                                <v-layout row>                                    <v-flex xs12>                                        <v-text-field                                                v-validate="'required|email'"                                                v-model="email"                                                :error-messages="errors.collect('email')"                                                label="E-mail"                                                data-vv-name="email"                                                required                                        ></v-text-field>                                    </v-flex>                                </v-layout>                                <v-layout row>                                    <v-flex xs12>                                        <v-text-field                                                v-validate="'required|min:6'"                                                v-model="password"                                                :error-messages="errors.collect('password')"                                                label="Password"                                                type="password"                                                data-vv-name="password"                                                required                                        ></v-text-field>                                    </v-flex>                                </v-layout>                                <v-layout row>                                    <v-flex xs12>                                        <v-btn type="submit">Login</v-btn>                                    </v-flex>                                </v-layout>                            </form>                        </v-container>                    </v-card-text>                </v-card>            </v-flex>        </v-layout>    </v-container></template><script>    export default {        name: "Login",        data () {            return {                email: '',                password: ''            }        },        methods: {            onLogin () {                this.$validator.validateAll().then((result) => {                    if (result) {                        this.$store.dispatch('retrieveToken', {email: this.email, password: this.password})                            .then(() => {                                this.$snotify.info("Jeni loguar me sukses", {                                    timeout: 2000,                                    showProgressBar: false,                                    closeOnClick: false,                                    pauseOnHover: true                                });                                this.$store.dispatch('getUser')                                this.$router.push({ name: "home" });                            })                            .catch(error => {                                this.$snotify.error(error.response.data.error, {                                    timeout: 2000,                                    showProgressBar: false,                                    closeOnClick: false,                                    pauseOnHover: true                                });                                setTimeout(function() {                                    location.reload();                                }, 5000);                            });                    }                    console.log('correct errors')                })            }        }    }</script><style scoped></style>